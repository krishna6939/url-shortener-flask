<!DOCTYPE html>
<html>
<head>
    <title>URL Shortener</title>
    <script>
        function copyText() {
            const text = document.getElementById("shortUrl").innerText;
            navigator.clipboard.writeText(text);
            alert("Short URL copied!");
        }
    </script>
</head>
<body>

<h2>URL Shortener</h2>

<form method="POST">
    <input type="url" name="url" placeholder="Enter long URL" required><br><br>
    <input type="text" name="custom" placeholder="Custom short code (optional)"><br><br>
    <input type="date" name="expiry"><br><br>
    <button type="submit">Shorten</button>
</form>

{% if message %}
<p style="color:red;">{{ message }}</p>
{% endif %}

{% if short_url %}
<hr>
<p><b>Your Short URL:</b></p>
<p id="shortUrl">
    <a href="{{ short_url }}" target="_blank">{{ short_url }}</a>
</p>
<button onclick="copyText()">Copy</button>
{% endif %}

</body>
</html>
